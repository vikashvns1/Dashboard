@using DashBoardModel;
@if (ShowPopup)
{
    <!-- This is the popup to create or edit a forecast -->
    <div class="modal"  style="display:block;"  role="dialog">
        <div class="modalDialog">
            <div class="modalContent">
                <div class="modal-header">
                    @*<h3 class="modal-title">Edit Forecast</h3>*@
                    <!-- Button to close the popup -->
                    <button type="button" class="close"
                            @onclick="@((args) => OnClick(args))">
                        <span aria-hidden="true">X</span>
                    </button>
                </div>
                <!-- Edit form for the current forecast -->
                <div class="modal-body">
                    <ChartComponent ChartSource="ChartPopUpSource"></ChartComponent>
                </div>
            </div>
        </div>
    </div>
}

@code {
    [Parameter]
    public bool ShowPopup { get; set; }
    [Parameter]
    public GetRequestConfiguration ChartPopUpSource { get; set; }
    [Parameter]
    public EventCallback<MouseEventArgs> Click { get; set; }

    void OnClick(MouseEventArgs args)
    {
        Click.InvokeAsync(args);
        ShowPopup = false;
    }

    //protected override void OnInitialized()
    //{
    //    if (IsVisible == true)
    //    {
    //        display = "normal";
    //    }
    //    else
    //        display = "none";
    //}
}
